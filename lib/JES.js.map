{"version":3,"file":"JES.js","names":["JES","value","expected","validate","expr","transform","config","actual","expectedJES","reason","throwError","abortEarly","plainError"],"sources":["../src/JES.js"],"sourcesContent":["import config from './config';\nimport validate from './validators';\nimport transform from './transformers';\n\n/**\n * JSON Expression Syntax Object\n * @class\n */\nclass JES {\n    static config = config;\n    static match = (actual, expectedJES) => {\n        const reason = validate(actual, expectedJES, {\n            throwError: false,\n            abortEarly: true,\n            plainError: true,\n        });\n        if (reason === true) {\n            return [true];\n        }\n\n        return [false, reason];\n    };\n    static evaluate = transform;\n\n    /**\n     * @param {object} value\n     */\n    constructor(value) {\n        this.value = value;\n    }\n\n    /**\n     * Match the value with expected conditions in JSON expression\n     * @param {object} expected - JSON match expression\n     * @throws ValidationError\n     * @returns {JES}\n     */\n    match(expected) {\n        validate(this.value, expected);\n        return this;\n    }\n\n    /**\n     * Evaluate a JSON expression against the value\n     * @param {object} - JSON operation expression\n     */\n    evaluate(expr) {\n        return transform(this.value, expr);\n    }\n\n    /**\n     * Evaluate a JSON expression against the value and update the value\n     * @param {object} - JSON operation expression\n     * @returns {JES}\n     */\n    update(expr) {\n        this.value = transform(this.value, expr);\n        return this;\n    }\n}\n\nexport default JES;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;AAEA;AACA;AACA;AACA;IACMA,G;EAgBF;AACJ;AACA;EACI,aAAYC,KAAZ,EAAmB;IAAA;;IACf,KAAKA,KAAL,GAAaA,KAAb;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;;;;;WACI,eAAMC,QAAN,EAAgB;MACZ,IAAAC,sBAAA,EAAS,KAAKF,KAAd,EAAqBC,QAArB;MACA,OAAO,IAAP;IACH;IAED;AACJ;AACA;AACA;;;;WACI,kBAASE,IAAT,EAAe;MACX,OAAO,IAAAC,wBAAA,EAAU,KAAKJ,KAAf,EAAsBG,IAAtB,CAAP;IACH;IAED;AACJ;AACA;AACA;AACA;;;;WACI,gBAAOA,IAAP,EAAa;MACT,KAAKH,KAAL,GAAa,IAAAI,wBAAA,EAAU,KAAKJ,KAAf,EAAsBG,IAAtB,CAAb;MACA,OAAO,IAAP;IACH;;;;;;gBAlDCJ,G,YACcM,kB;;gBADdN,G,WAEa,UAACO,MAAD,EAASC,WAAT,EAAyB;EACpC,IAAMC,MAAM,GAAG,IAAAN,sBAAA,EAASI,MAAT,EAAiBC,WAAjB,EAA8B;IACzCE,UAAU,EAAE,KAD6B;IAEzCC,UAAU,EAAE,IAF6B;IAGzCC,UAAU,EAAE;EAH6B,CAA9B,CAAf;;EAKA,IAAIH,MAAM,KAAK,IAAf,EAAqB;IACjB,OAAO,CAAC,IAAD,CAAP;EACH;;EAED,OAAO,CAAC,KAAD,EAAQA,MAAR,CAAP;AACH,C;;gBAbCT,G,cAcgBK,wB;;eAuCPL,G"}