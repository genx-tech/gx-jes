{"version":3,"file":"JES.js","names":["_config","_interopRequireDefault","require","_validators","_transformers","obj","__esModule","default","JES","config","match","actual","expectedJES","reason","validate","throwError","abortEarly","plainError","evaluate","transform","constructor","value","expected","expr","update","_default","exports","module"],"sources":["../src/JES.js"],"sourcesContent":["import config from './config';\nimport validate from './validators';\nimport transform from './transformers';\n\n/**\n * JSON Expression Syntax Object\n * @class\n */\nclass JES {\n    static config = config;\n    static match = (actual, expectedJES) => {\n        const reason = validate(actual, expectedJES, {\n            throwError: false,\n            abortEarly: true,\n            plainError: true,\n        });\n        if (reason === true) {\n            return [true];\n        }\n\n        return [false, reason];\n    };\n    static evaluate = transform;\n\n    /**\n     * @param {object} value\n     */\n    constructor(value) {\n        this.value = value;\n    }\n\n    /**\n     * Match the value with expected conditions in JSON expression\n     * @param {object} expected - JSON match expression\n     * @throws ValidationError\n     * @returns {JES}\n     */\n    match(expected) {\n        validate(this.value, expected);\n        return this;\n    }\n\n    /**\n     * Evaluate a JSON expression against the value\n     * @param {object} - JSON operation expression\n     */\n    evaluate(expr) {\n        return transform(this.value, expr);\n    }\n\n    /**\n     * Evaluate a JSON expression against the value and update the value\n     * @param {object} - JSON operation expression\n     * @returns {JES}\n     */\n    update(expr) {\n        this.value = transform(this.value, expr);\n        return this;\n    }\n}\n\nexport default JES;\n"],"mappings":";;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAMvC,MAAMG,GAAG,CAAC;EACN,OAAOC,MAAM,GAAGA,eAAM;EACtB,OAAOC,KAAK,GAAGA,CAACC,MAAM,EAAEC,WAAW,KAAK;IACpC,MAAMC,MAAM,GAAG,IAAAC,mBAAQ,EAACH,MAAM,EAAEC,WAAW,EAAE;MACzCG,UAAU,EAAE,KAAK;MACjBC,UAAU,EAAE,IAAI;MAChBC,UAAU,EAAE;IAChB,CAAC,CAAC;IACF,IAAIJ,MAAM,KAAK,IAAI,EAAE;MACjB,OAAO,CAAC,IAAI,CAAC;IACjB;IAEA,OAAO,CAAC,KAAK,EAAEA,MAAM,CAAC;EAC1B,CAAC;EACD,OAAOK,QAAQ,GAAGC,qBAAS;EAK3BC,WAAWA,CAACC,KAAK,EAAE;IACf,IAAI,CAACA,KAAK,GAAGA,KAAK;EACtB;EAQAX,KAAKA,CAACY,QAAQ,EAAE;IACZ,IAAAR,mBAAQ,EAAC,IAAI,CAACO,KAAK,EAAEC,QAAQ,CAAC;IAC9B,OAAO,IAAI;EACf;EAMAJ,QAAQA,CAACK,IAAI,EAAE;IACX,OAAO,IAAAJ,qBAAS,EAAC,IAAI,CAACE,KAAK,EAAEE,IAAI,CAAC;EACtC;EAOAC,MAAMA,CAACD,IAAI,EAAE;IACT,IAAI,CAACF,KAAK,GAAG,IAAAF,qBAAS,EAAC,IAAI,CAACE,KAAK,EAAEE,IAAI,CAAC;IACxC,OAAO,IAAI;EACf;AACJ;AAAC,IAAAE,QAAA,GAEcjB,GAAG;AAAAkB,OAAA,CAAAnB,OAAA,GAAAkB,QAAA;AAAAE,MAAA,CAAAD,OAAA,GAAAA,OAAA,CAAAnB,OAAA"}