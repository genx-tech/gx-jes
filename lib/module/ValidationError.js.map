{"version":3,"sources":["ValidationError.js"],"names":["_castArray","messages","ValidationError","Error","constructor","errorOrErrors","value","field","errors","inner","forEach","err","name","push","length","Array","isArray","MULTI_ERRORS","path"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,kBAAvB;AACA,SAASC,QAAT,QAAyB,UAAzB;AAEA,eAAe,MAAMC,eAAN,SAA8BC,KAA9B,CAAoC;AAC/CC,EAAAA,WAAW,CAACC,aAAD,EAAgBC,KAAhB,EAAuBC,KAAvB,EAA8B;AACrC,UAAMC,MAAM,GAAG,EAAf;AACA,QAAIC,KAAK,GAAG,EAAZ;;AAEAT,IAAAA,UAAU,CAACK,aAAD,CAAV,CAA0BK,OAA1B,CAAmCC,GAAD,IAAS;AACvC,UAAIA,GAAG,CAACC,IAAJ,KAAa,iBAAjB,EAAoC;AAChCJ,QAAAA,MAAM,CAACK,IAAP,CAAY,GAAGF,GAAG,CAACH,MAAnB;AACAC,QAAAA,KAAK,GAAG,CAAC,GAAGA,KAAJ,EAAW,IAAIE,GAAG,CAACF,KAAJ,CAAUK,MAAV,GAAmB,CAAnB,GAAuBH,GAAG,CAACF,KAA3B,GAAmC,CAACE,GAAD,CAAvC,CAAX,CAAR;AACH,OAHD,MAGO;AACHH,QAAAA,MAAM,CAACK,IAAP,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACF,KAAJ,IAAaM,KAAK,CAACC,OAAN,CAAcL,GAAG,CAACF,KAAlB,CAAjB,EAA2C;AACvCA,UAAAA,KAAK,GAAG,CAAC,GAAGA,KAAJ,EAAW,GAAGE,GAAG,CAACF,KAAlB,CAAR;AACH;AACJ;AACJ,KAVD;;AAYA,UAAMD,MAAM,CAACM,MAAP,GAAgB,CAAhB,GAAoBb,QAAQ,CAACgB,YAAT,CAAsBT,MAAM,CAACM,MAA7B,CAApB,GAA2DN,MAAM,CAAC,CAAD,CAAvE;AAEA,SAAKI,IAAL,GAAY,iBAAZ;AACA,SAAKN,KAAL,GAAaA,KAAb;AACA,SAAKY,IAAL,GAAYX,KAAZ;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACH;;AAxB8C","sourcesContent":["import _castArray from 'lodash/castArray';\nimport { messages } from './config';\n\nexport default class ValidationError extends Error {\n    constructor(errorOrErrors, value, field) {\n        const errors = [];\n        let inner = [];\n\n        _castArray(errorOrErrors).forEach((err) => {\n            if (err.name === 'ValidationError') {\n                errors.push(...err.errors);\n                inner = [...inner, ...(err.inner.length > 0 ? err.inner : [err])];\n            } else {\n                errors.push(err);\n                if (err.inner && Array.isArray(err.inner)) {\n                    inner = [...inner, ...err.inner];\n                }\n            }\n        });\n\n        super(errors.length > 1 ? messages.MULTI_ERRORS(errors.length) : errors[0]);\n\n        this.name = 'ValidationError';\n        this.value = value;\n        this.path = field;\n        this.errors = errors;\n        this.inner = inner;\n    }\n}\n"]}